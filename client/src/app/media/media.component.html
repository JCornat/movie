<div class="navigation">
  <div class="link">
    <ng-container *ngFor="let link of links; index as i">
      <div class="bold cursor-pointer pr-16" style="cursor: pointer;" [ngClass]="{'opacity-3': link.label !== 'Games'}" (click)="navigate(link.path)">{{link.label}}</div>
    </ng-container>
  </div>

  <div class="search">
    <form [formGroup]="profileForm">
      <input type="text" formControlName="search" placeholder="Search">
    </form>

    <ng-container *ngIf="isLogged">
      <div class="ml-8">
        <!--      <c7z-button class="secondary grey" icon="add" (onClick)="navigateSearch()"></c7z-button>-->
      </div>
    </ng-container>
  </div>
</div>

<ng-container *ngFor="let category of displayList">
  <ng-container *ngIf="category.media && category.media.length > 0">
    <div class="mx-16 flex" style="align-items: baseline;">
      <div class="bold text-xl mr-8">{{category.label}}</div>
      <div class="fill"></div>
      <div class="flex">
        <div class="bold cursor-pointer pr-16" [ngClass]="{'opacity-3': category.orderBy !== 'random'}" (click)="sort(category, 'random')">Random</div>
        <div class="bold cursor-pointer pr-16" [ngClass]="{'opacity-3': category.orderBy !== 'alphabetic'}" (click)="sort(category, 'alphabetic')">A-Z</div>
        <div class="bold cursor-pointer" [ngClass]="{'opacity-3': category.orderBy !== 'chronologic'}" (click)="sort(category, 'chronologic')">Year</div>
      </div>
    </div>

    <div class="media-container" style="margin-bottom: 64px;">
      <ng-container *ngFor="let game of category.media; index as i">
        <ng-container *ngIf="i < category.limit">
          <media-item [data]="game" (click)="navigateUpdate(game)"></media-item>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="category.limit < category.media.length">
        <div class="media blur cursor-pointer" (click)="increaseLimit(category)">
          <div class="poster-container">
            <div class="poster">
              <picture>
                <source [srcset]="'http://localhost:3000/upload/' + category.media[category.limit].id + '.webp'" type="image/webp">
                <img [ngSrc]="'http://localhost:3000/upload/' + category.media[category.limit].id + '.jpg'" alt="Description" fill="true">
              </picture>
            </div>
          </div>

          <div class="content">
            <div class="title" style="font-size: 20px; font-weight: 600;">See {{category.media.length - category.limit}} more</div>
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>
</ng-container>
